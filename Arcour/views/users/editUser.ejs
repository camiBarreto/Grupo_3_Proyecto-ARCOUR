<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ARCOUR</title>
    <link rel="icon" href="/images/Logo-ARCOUR.ico">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
        integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="/css/register.css">
</head>

<body>
    <header>
        <%- include("../partials/header.ejs") %>
    </header>

    <nav class="main-nav">
        <%- include("../partials/navBar.ejs") %>
    </nav>

    <main>

        <div class="contenido-register">

            <div class="login-box">
                <h2 class="titulo">Edita tu cuenta de Usuario</h2>
                <h2 class="register-subtitulo">01 Datos Personales</h2>
                <form action="/users/<%= user.id %>/put/user?_method=PUT" method="post" class="register-form">

                    <div class="ant-row">
                        <div class="ant-col">
                            <div class="ant-inside">
                                <div class="ant-label">
                                    <label for="name" title>Nombre</label>
                                </div>
                                <div class="ant-input">
                                    <input class="input-box" type="text" maxlength="25" id="name" name="nombre" value = "<%= user.first_name%>" >
                                </div>
                                <% if (locals.errors && errors.nombre) { %>
                                    <div class="text-danger">
                                        <%= errors.nombre.msg %>
                                    </div>
                                <% } %>
                            </div>
                        </div>

                        <div class="ant-col">
                            <div class="ant-inside">
                                <div class="ant-label">
                                    <label for="apellido" title>Apellido</label>
                                </div>
                                <div class="ant-input">
                                    <input class="input-box" type="text" maxlength="15" id="apellido" name="apellido" value = "<%= user.last_name %>">
                                </div>
                                <% if (locals.errors && errors.apellido) { %>
                                    <div class="text-danger">
                                        <%= errors.apellido.msg %>
                                    </div>
                                <% } %>
                            </div>
                        </div>
                    </div>

                    <div class="ant-row">
                        <div class="ant-col">
                            <div class="ant-inside">
                                <div class="ant-label">
                                    <label for="gender">Género:</label >
                                </div>
                                <div class="ant-input">
                                    <select name="genero" id="gender">
                                        
                                        <% const generos =["masculino", "femenino"] %>
                                            <% generos.forEach(genero=> { %>
                                                <option value="<%= genero %>" <%=user.gender===genero? "selected" : "" %>><%= genero.charAt(0).toUpperCase() + genero.slice(1) %>
                                                </option>
                                            <% }); %>

                                    </select>
                                </div>
                            </div>
                        </div>

                        <div class="ant-col">
                            <div class="ant-inside">
                                <div class="ant-label">
                                    <label for="id" title>Número de documento</label>
                                </div>
                                <div class="ant-input">
                                    <input class="input-box" type="number" maxlength="15" id="id" name="documento" value = "<%= user.document%>">
                                </div>
                                <% if (locals.errors && errors.documento) { %>
                                    <div class="text-danger">
                                        <%= errors.documento.msg %>
                                    </div>
                                <% } %>
                            </div>
                        </div>
                    </div>

                    <div class="ant-row">
                        <div class="ant-col">
                            <div class="ant-inside">
                                <div class="ant-label">
                                    <label for="fecha" title>Fecha de nacimiento</label>
                                </div>
                                <div class="ant-input">
                                    <input class="input-box" type="date" id="fecha" name="fechaNacimiento" value = "<%=user.date_birth%>">
                                </div>
                            </div>
                            <% if (locals.errors && errors.fechaNacimiento) { %>
                                <div class="text-danger">
                                    <%= errors.fechaNacimiento.msg %>
                                </div>
                            <% } %>
                        </div>

                        <div class="ant-col">
                            <div class="ant-inside">
                                <div class="ant-label">
                                    <label for="cel" title>Celular</label>
                                </div>
                                <div class="ant-input">
                                    <input class="input-box" type="text" maxlength="15" id="cel" name="celular" value = "<%= user.cell_phone%>">
                                </div>
                                <% if (locals.errors && errors.celular) { %>
                                    <div class="text-danger">
                                        <%= errors.celular.msg %>
                                    </div>
                                <% } %>
                            </div>
                        </div>


                    </div>

                    <h2 class="register-subtitulo2">02 Datos de Acceso</h2>
                    <div class="ant-row">
                        <div class="ant-col">
                            <div class="ant-inside">
                                <div class="ant-label">
                                    <label for="mail" title>Correo electrónico</label>
                                </div>
                                <div class="ant-input">
                                    <input class="input-box" type="email" maxlength="40" id="mail" name="correo" value = "<%= user.email%>">
                                </div>
                                <% if (locals.errors && errors.correo) { %>
                                    <div class="text-danger">
                                        <%= errors.correo.msg %>
                                    </div>
                                <% } %>
                            </div>
                        </div>

                    </div>

                    <div class="ant-row">
                        <div class="ant-col">
                            <div class="ant-inside">
                                <div class="ant-label">
                                    <label for="pais" title>País</label>
                                </div>
                                <div class="ant-input">
                                    <select name="pais" id="pais">
                                        <% const paises =["argentina", "colombia", "uruguay", "bolivia", "paraguay", "peru", "brasil", "venezuela", "chile", "ecuador"]%>
                                            <% paises.forEach(pais=> { %>
                                                <option value="<%= pais %>" <%=user.country===pais? "selected" : "" %>><%= pais.charAt(0).toUpperCase() + pais.slice(1) %>
                                                </option>
                                            <% }); %>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div class="ant-col">
                            <div class="ant-inside">
                                <div class="ant-label">
                                    <label for="aereo" title>Aerolínea preferida</label>
                                </div>
                                <div class="ant-input">
                                    <select name="aerolineaFav" id="aereo">
                                        <% const aerolinea =["latam","avianca","aero-ar"]%>
                                            <% aerolinea.forEach(linea => { %>
                                                <option value="<%= linea %>" <%=user.favourite_airline===linea? "selected" : "" %>><%= linea.charAt(0).toUpperCase() + linea.slice(1) %>
                                                </option>
                                            <% }); %>
                                    </select>
                                </div>
                            </div>
                        </div>


                    </div>

                    <div class="crear-cuenta">
                        <button title="Editar informacion" type="submit" class="boton-submit">
                            <span>Editar informacion</span>
                        </button>
                    </div>
                </form>
            </div>
    </main>


    <footer>
        <%- include("../partials/footer.ejs") %>
    </footer>
</body>

</html>